\hypertarget{ErrorHandlers_8h_source}{}\doxysection{Error\+Handlers.\+h}
\label{ErrorHandlers_8h_source}\index{include/ErrorHandlers.h@{include/ErrorHandlers.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/// libdas: DENG asset handling management library}\textcolor{comment}{}}
\DoxyCodeLine{2 \textcolor{comment}{/// licence: Apache, see LICENCE file}}
\DoxyCodeLine{3 \textcolor{comment}{/// file: ErrorHandlers.h -\/ Error handler classes header}}
\DoxyCodeLine{4 \textcolor{comment}{/// author: Karl-\/Mihkel Ott}}
\DoxyCodeLine{5 \textcolor{comment}{}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#ifndef ERROR\_HANDLER\_H}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#define ERROR\_HANDLER\_H}}
\DoxyCodeLine{8 \textcolor{comment}{}}
\DoxyCodeLine{9 \textcolor{comment}{/// Source file includes}}
\DoxyCodeLine{10 \textcolor{comment}{}\textcolor{preprocessor}{\#ifdef ERROR\_HANDLER\_CPP}}
\DoxyCodeLine{11 \textcolor{preprocessor}{    \#include <cstdint>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{    \#include <cmath>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{    \#include <climits>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{    \#include <LibdasAssert.h>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{    \#include <iostream>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{    \#include <string>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{    \#include <vector>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{20 \textcolor{comment}{}}
\DoxyCodeLine{21 \textcolor{comment}{/// Termination definations}}
\DoxyCodeLine{22 \textcolor{comment}{}\textcolor{keyword}{typedef} \textcolor{keywordtype}{bool} TerminationType;}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define TERMINATE true}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define NO\_TERMINATE false}}
\DoxyCodeLine{25 \textcolor{comment}{}}
\DoxyCodeLine{26 \textcolor{comment}{/// Ascii format errors}}
\DoxyCodeLine{27 \textcolor{comment}{}\textcolor{keyword}{typedef} uint16\_t ErrorType;}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_KEYWORD                1   }\textcolor{comment}{// statement error}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_TYPE                   2   }\textcolor{comment}{// statement error (JSON mostly, because of its loose typing)}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_NO\_IDENTIFIER                  3   }\textcolor{comment}{// statement error}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_ARGUMENT               4   }\textcolor{comment}{// statement error}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_TOO\_MANY\_ATTRIBUTES            5   }\textcolor{comment}{// statement error}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_NOT\_ENOUGH\_ATTRIBUTES          6   }\textcolor{comment}{// statement error}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INCOMPLETE\_NEWLINE             7   }\textcolor{comment}{// non-\/statement error}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_CSTYPE                 8   }\textcolor{comment}{// Wavefront OBJ only!!!}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_SYMBOL                 9   }\textcolor{comment}{// non-\/statement error}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_UNEXPECTED\_END\_STATEMENT       10  }\textcolor{comment}{// statement error}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INCOMPLETE\_SCOPE               11  }\textcolor{comment}{// statement error}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_SCOPE\_ALREADY\_CLOSED           12  }\textcolor{comment}{// statement error}}
\DoxyCodeLine{40 \textcolor{comment}{}}
\DoxyCodeLine{41 \textcolor{comment}{/// Binary format errors}}
\DoxyCodeLine{42 \textcolor{comment}{}\textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_SIGNATURE              13  }\textcolor{comment}{// binary error}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_DATA                   14  }\textcolor{comment}{// binary error}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_VALUE                  15  }\textcolor{comment}{// binary or ascii error}}
\DoxyCodeLine{45 \textcolor{comment}{}}
\DoxyCodeLine{46 \textcolor{comment}{/// Misc}}
\DoxyCodeLine{47 \textcolor{comment}{}\textcolor{preprocessor}{\#define LIBDAS\_ERROR\_INVALID\_FILE                   16  }\textcolor{comment}{// misc}}
\DoxyCodeLine{48 \textcolor{comment}{}}
\DoxyCodeLine{49 \textcolor{comment}{/// Warnings}}
\DoxyCodeLine{50 \textcolor{comment}{}\textcolor{preprocessor}{\#define LIBDAS\_WARNING\_UNUSED\_STATEMENT             17  }\textcolor{comment}{// statement warning}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#define LIBDAS\_WARNING\_MULTIPLE\_OBJECTS             18  }\textcolor{comment}{// non-\/statement warning}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{comment}{// no LIBDAS\_DEFS\_ONLY}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#ifndef LIBDAS\_DEFS\_ONLY}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceLibdas}{Libdas}} \{}
\DoxyCodeLine{57 }
\DoxyCodeLine{58     \textcolor{comment}{// line and args}}
\DoxyCodeLine{59     \textcolor{keyword}{typedef} std::pair<uint32\_t, std::vector<std::string>> ArgsType;}
\DoxyCodeLine{60     }
\DoxyCodeLine{61     \textcolor{keyword}{enum} ModelFormat \{}
\DoxyCodeLine{62         MODEL\_FORMAT\_WOBJ,}
\DoxyCodeLine{63         MODEL\_FORMAT\_STLA,}
\DoxyCodeLine{64         MODEL\_FORMAT\_STLB,}
\DoxyCodeLine{65         MODEL\_FORMAT\_FBXA,}
\DoxyCodeLine{66         MODEL\_FORMAT\_FBXB,}
\DoxyCodeLine{67         MODEL\_FORMAT\_GLTF,}
\DoxyCodeLine{68         MODEL\_FORMAT\_GLB,}
\DoxyCodeLine{69         MODEL\_FORMAT\_JSON,}
\DoxyCodeLine{70         MODEL\_FORMAT\_DAS,}
\DoxyCodeLine{71         MODEL\_FORMAT\_DASC}
\DoxyCodeLine{72     \};}
\DoxyCodeLine{73 }
\DoxyCodeLine{74 \textcolor{comment}{}}
\DoxyCodeLine{75 \textcolor{comment}{    /////////////////////////////////////////////////}}
\DoxyCodeLine{76 \textcolor{comment}{}    \textcolor{comment}{// **** Warnings are pretty much useless ***** //}\textcolor{comment}{}}
\DoxyCodeLine{77 \textcolor{comment}{    /////////////////////////////////////////////////}}
\DoxyCodeLine{78 \textcolor{comment}{}    \textcolor{comment}{}}
\DoxyCodeLine{79 \textcolor{comment}{    /// Data structure for displaying warnings}}
\DoxyCodeLine{80 \textcolor{comment}{}    \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1WarningElement}{WarningElement}} \{}
\DoxyCodeLine{81         std::string name;}
\DoxyCodeLine{82         \textcolor{keywordtype}{int} beg\_line;}
\DoxyCodeLine{83         \textcolor{keywordtype}{int} end\_line;}
\DoxyCodeLine{84     \};}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{comment}{}}
\DoxyCodeLine{87 \textcolor{comment}{    /// Error handling class for ASCII formats}}
\DoxyCodeLine{88 \textcolor{comment}{}    \textcolor{keyword}{class }\mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler}{AsciiFormatErrorHandler}} \{}
\DoxyCodeLine{89         \textcolor{keyword}{private}:}
\DoxyCodeLine{90             ModelFormat m\_format;}
\DoxyCodeLine{91 }
\DoxyCodeLine{92         \textcolor{keyword}{private}:\textcolor{comment}{}}
\DoxyCodeLine{93 \textcolor{comment}{            /**}}
\DoxyCodeLine{94 \textcolor{comment}{             * Generate correct error message beginning according to the format used}}
\DoxyCodeLine{95 \textcolor{comment}{             */}}
\DoxyCodeLine{96             std::string \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a3726db71972aef7afb7eda3894da2f68}{\_GetFormatErrorMsg}}();}
\DoxyCodeLine{97 }
\DoxyCodeLine{98         \textcolor{keyword}{public}:}
\DoxyCodeLine{99             \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler}{AsciiFormatErrorHandler}}(ModelFormat \_format);}
\DoxyCodeLine{100 \textcolor{comment}{}}
\DoxyCodeLine{101 \textcolor{comment}{            /// Error handler declarations}}
\DoxyCodeLine{102 \textcolor{comment}{}            \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a05cc65f9c71cb0a3c7c13fb33f9b6815}{Error}}(ErrorType \_type, \textcolor{keywordtype}{int} \_line, TerminationType \_terminate = TERMINATE);}
\DoxyCodeLine{103             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a05cc65f9c71cb0a3c7c13fb33f9b6815}{Error}}(ErrorType \_type, \textcolor{keywordtype}{int} \_line, \textcolor{keyword}{const} std::string \&\_keyword, \textcolor{keyword}{const} std::string \&\_arg = \textcolor{stringliteral}{"{}"{}}, TerminationType \_terminate = TERMINATE);}
\DoxyCodeLine{104 \textcolor{comment}{}}
\DoxyCodeLine{105 \textcolor{comment}{            /** }}
\DoxyCodeLine{106 \textcolor{comment}{             * Display warning message}}
\DoxyCodeLine{107 \textcolor{comment}{             * @param \_type is the type of warning declared with LIBDAS\_WARNING\_* definition}}
\DoxyCodeLine{108 \textcolor{comment}{             * @param \_warn\_elems is all warning elements to display in the message}}
\DoxyCodeLine{109 \textcolor{comment}{             */}}
\DoxyCodeLine{110             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a325c366901a13c0de31b8b00a5de7338}{WarningMessage}}(ErrorType \_type, std::vector<WarningElement> \&\_warn\_elems);\textcolor{comment}{}}
\DoxyCodeLine{111 \textcolor{comment}{            /**}}
\DoxyCodeLine{112 \textcolor{comment}{             * Check if correct amount of arguments are supplied}}
\DoxyCodeLine{113 \textcolor{comment}{             */}}
\DoxyCodeLine{114             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a31c8fb3b2e1f971448b97e969dd3c376}{ArgCountCheck}}(\textcolor{keyword}{const} std::string \&\_keyword, \textcolor{keywordtype}{int} \_line, uint32\_t \_arg\_c, uint32\_t \_min\_args, uint32\_t \_max\_args, }
\DoxyCodeLine{115                                TerminationType \_terminate = TERMINATE);\textcolor{comment}{}}
\DoxyCodeLine{116 \textcolor{comment}{            /**}}
\DoxyCodeLine{117 \textcolor{comment}{             * Check if arguments correspond to float data type, assuming that they are tightly packed together}}
\DoxyCodeLine{118 \textcolor{comment}{             * @param \_beg is the beginning pointer of the float array}}
\DoxyCodeLine{119 \textcolor{comment}{             * @param \_end is the ending pointer of the float array}}
\DoxyCodeLine{120 \textcolor{comment}{             * @param \_keyword is the statement keyword that is used for float arguments}}
\DoxyCodeLine{121 \textcolor{comment}{             * @param \_arg\_offset is the offset of arguments that are read from array}}
\DoxyCodeLine{122 \textcolor{comment}{             */}}
\DoxyCodeLine{123             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a87164002101346b3ebb314e958b8dcc0}{CheckFloatArgs}}(\textcolor{keywordtype}{float} *\_beg, \textcolor{keywordtype}{float} *\_end, \textcolor{keywordtype}{size\_t} \_arg\_offset, \textcolor{keyword}{const} std::string \&\_keyword, ArgsType \&\_args);\textcolor{comment}{}}
\DoxyCodeLine{124 \textcolor{comment}{            /**}}
\DoxyCodeLine{125 \textcolor{comment}{             * Check if arguments correspond to integer data type, assuming that they are tightly packed together}}
\DoxyCodeLine{126 \textcolor{comment}{             * @param \_error is an instance to AsciiFormatErrorHandler}}
\DoxyCodeLine{127 \textcolor{comment}{             * @param \_beg is the beginning pointer of the integer array}}
\DoxyCodeLine{128 \textcolor{comment}{             * @param \_end is the ending pointer of the integer array}}
\DoxyCodeLine{129 \textcolor{comment}{             * @param \_arg is a string argument used in parsing}}
\DoxyCodeLine{130 \textcolor{comment}{             * @param \_keyword is keyword that is used for integer element arguments}}
\DoxyCodeLine{131 \textcolor{comment}{             * @param \_line is the current line that is parsed}}
\DoxyCodeLine{132 \textcolor{comment}{             */}}
\DoxyCodeLine{133             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1AsciiFormatErrorHandler_a9c304211e4b324ac34e386574d536418}{CheckIntArgs}}(uint32\_t *\_beg, uint32\_t *\_end, \textcolor{keyword}{const} std::string \&\_arg, \textcolor{keyword}{const} std::string \&\_keyword, uint32\_t \_line);}
\DoxyCodeLine{134     \};}
\DoxyCodeLine{135 }
\DoxyCodeLine{136 \textcolor{comment}{}}
\DoxyCodeLine{137 \textcolor{comment}{    /// Error handling class for binary formats}}
\DoxyCodeLine{138 \textcolor{comment}{}    \textcolor{keyword}{class }\mbox{\hyperlink{classLibdas_1_1BinaryFormatErrorHandler}{BinaryFormatErrorHandler}} \{}
\DoxyCodeLine{139         \textcolor{keyword}{private}:}
\DoxyCodeLine{140             ModelFormat m\_format;}
\DoxyCodeLine{141 }
\DoxyCodeLine{142         \textcolor{keyword}{private}:\textcolor{comment}{}}
\DoxyCodeLine{143 \textcolor{comment}{            /**}}
\DoxyCodeLine{144 \textcolor{comment}{             * Generate correct error message beginning according to the format used}}
\DoxyCodeLine{145 \textcolor{comment}{             */}}
\DoxyCodeLine{146             std::string \mbox{\hyperlink{classLibdas_1_1BinaryFormatErrorHandler_ab96918f502c4acc4e51fcd52627ce0fa}{\_GetFormatErrorMsg}}();}
\DoxyCodeLine{147 }
\DoxyCodeLine{148         \textcolor{keyword}{public}:}
\DoxyCodeLine{149             \mbox{\hyperlink{classLibdas_1_1BinaryFormatErrorHandler}{BinaryFormatErrorHandler}}(ModelFormat \_format);\textcolor{comment}{}}
\DoxyCodeLine{150 \textcolor{comment}{            /**}}
\DoxyCodeLine{151 \textcolor{comment}{             * Throw an binary format error}}
\DoxyCodeLine{152 \textcolor{comment}{             * @param \_type specifies the binary format error type}}
\DoxyCodeLine{153 \textcolor{comment}{             * @param \_terminate specifies whether the program should be terminated or not}}
\DoxyCodeLine{154 \textcolor{comment}{             */}}
\DoxyCodeLine{155             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1BinaryFormatErrorHandler_a021663683b4d9cff17dbc6416a520171}{Error}}(ErrorType \_type, \textcolor{keyword}{const} std::string \&\_arg = \textcolor{stringliteral}{"{}"{}}, TerminationType \_terminate = TERMINATE);}
\DoxyCodeLine{156     \};}
\DoxyCodeLine{157 \}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{160 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
