\hypertarget{DasStructures_8h_source}{}\doxysection{Das\+Structures.\+h}
\label{DasStructures_8h_source}\index{include/DasStructures.h@{include/DasStructures.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef DAS\_STRUCTURES\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define DAS\_STRUCTURES\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{comment}{// file constant definitions}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#define LIBDAS\_DAS\_MAGIC 0x00534144}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define LIBDAS\_DAS\_DEFAULT\_AUTHOR "{}DENG project v 1.0"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{comment}{}}
\DoxyCodeLine{9 \textcolor{comment}{/// Buffer type definitions}}
\DoxyCodeLine{10 \textcolor{comment}{}\textcolor{keyword}{typedef} uint8\_t BufferType;}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_VERTEX           0}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_MAP      1}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_VERTEX\_NORMAL    2}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_INDICES          3}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_JPEG     4}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_PNG      5}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_TGA      6}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_BMP      7}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_PPM      8}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_TEXTURE\_RAW      9}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define LIBDAS\_BUFFER\_TYPE\_UNKNOWN          10}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{/// Animation interpolation technique definitions }}
\DoxyCodeLine{24 \textcolor{comment}{}\textcolor{keyword}{typedef} uint8\_t InterpolationValue;}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#define LIBDAS\_INTERPOLATION\_VALUE\_LINEAR       11}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#define LIBDAS\_INTERPOLATION\_VALUE\_STEP         12}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define LIBDAS\_INTERPOLATION\_VALUE\_CUBICSPLINE  13}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceLibdas}{Libdas}} \{}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasSignature}{DasSignature}} \{}
\DoxyCodeLine{32         uint32\_t magic = LIBDAS\_DAS\_MAGIC;}
\DoxyCodeLine{33         \textcolor{keywordtype}{char} padding[12] = \{\};}
\DoxyCodeLine{34     \};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{comment}{}}
\DoxyCodeLine{37 \textcolor{comment}{    /**}}
\DoxyCodeLine{38 \textcolor{comment}{     * DAS scope structure that defines all file properties}}
\DoxyCodeLine{39 \textcolor{comment}{     */}}
\DoxyCodeLine{40     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasProperties}{DasProperties}} \{}
\DoxyCodeLine{41         std::string model;}
\DoxyCodeLine{42         std::string author = LIBDAS\_DAS\_DEFAULT\_AUTHOR;}
\DoxyCodeLine{43         std::string copyright;}
\DoxyCodeLine{44         uint64\_t moddate;}
\DoxyCodeLine{45         \textcolor{keywordtype}{bool} compression;}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{48             LIBDAS\_PROPERTIES\_MODEL,}
\DoxyCodeLine{49             LIBDAS\_PROPERTIES\_AUTHOR,}
\DoxyCodeLine{50             LIBDAS\_PROPERTIES\_COPYRIGHT,}
\DoxyCodeLine{51             LIBDAS\_PROPERTIES\_MODDATE,}
\DoxyCodeLine{52             LIBDAS\_PROPERTIES\_COMPRESSION}
\DoxyCodeLine{53         \} val\_type;}
\DoxyCodeLine{54     \};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{comment}{}}
\DoxyCodeLine{57 \textcolor{comment}{    /**}}
\DoxyCodeLine{58 \textcolor{comment}{     * Data structure for containing indicies information (default indices are: -\/1)}}
\DoxyCodeLine{59 \textcolor{comment}{     */}}
\DoxyCodeLine{60     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasFace}{DasFace}} \{}
\DoxyCodeLine{61         uint32\_t position = UINT32\_MAX;}
\DoxyCodeLine{62         uint32\_t texture = UINT32\_MAX;}
\DoxyCodeLine{63         uint32\_t normal = UINT32\_MAX;}
\DoxyCodeLine{64     \};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{}}
\DoxyCodeLine{67 \textcolor{comment}{    /**}}
\DoxyCodeLine{68 \textcolor{comment}{     * DAS scope structure that defines single buffer related information}}
\DoxyCodeLine{69 \textcolor{comment}{     */}}
\DoxyCodeLine{70     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasBuffer}{DasBuffer}} \{}
\DoxyCodeLine{71         BufferType type;}
\DoxyCodeLine{72         uint32\_t data\_len = 0;}
\DoxyCodeLine{73         std::vector<std::pair<const char*, size\_t>> data\_ptrs;}
\DoxyCodeLine{74 }
\DoxyCodeLine{75         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{76             LIBDAS\_BUFFER\_BUFFER\_TYPE,}
\DoxyCodeLine{77             LIBDAS\_BUFFER\_DATA\_LEN,}
\DoxyCodeLine{78             LIBDAS\_BUFFER\_DATA}
\DoxyCodeLine{79         \} val\_type;}
\DoxyCodeLine{80     \};}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \textcolor{comment}{}}
\DoxyCodeLine{83 \textcolor{comment}{    /**}}
\DoxyCodeLine{84 \textcolor{comment}{     * DAS scope structure that defines model related information}}
\DoxyCodeLine{85 \textcolor{comment}{     */}}
\DoxyCodeLine{86     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasModel}{DasModel}} \{}
\DoxyCodeLine{87         std::string name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{88         \textcolor{comment}{// buffer ids with values UINT32\_MAX are reserved values, indicating that no value is used}}
\DoxyCodeLine{89         uint32\_t index\_buffer\_id = 0;}
\DoxyCodeLine{90         uint32\_t index\_buffer\_offset = 0;}
\DoxyCodeLine{91         uint32\_t indices\_count = 0;}
\DoxyCodeLine{92         uint32\_t vertex\_buffer\_id = 0;}
\DoxyCodeLine{93         uint32\_t vertex\_buffer\_offset = 0;}
\DoxyCodeLine{94         uint32\_t texture\_id = UINT32\_MAX; }
\DoxyCodeLine{95         uint32\_t texture\_map\_buffer\_id = UINT32\_MAX;}
\DoxyCodeLine{96         uint32\_t texture\_map\_buffer\_offset = 0;}
\DoxyCodeLine{97         uint32\_t vertex\_normal\_buffer\_id = UINT32\_MAX;}
\DoxyCodeLine{98         uint32\_t vertex\_normal\_buffer\_offset = 0;}
\DoxyCodeLine{99         \mbox{\hyperlink{structLibdas_1_1Matrix4}{Matrix4<float>}} transform;}
\DoxyCodeLine{100 }
\DoxyCodeLine{101         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{102             LIBDAS\_MODEL\_NAME,}
\DoxyCodeLine{103             LIBDAS\_MODEL\_INDEX\_BUFFER\_ID,}
\DoxyCodeLine{104             LIBDAS\_MODEL\_INDEX\_BUFFER\_OFFSET,}
\DoxyCodeLine{105             LIBDAS\_MODEL\_INDICES\_COUNT,}
\DoxyCodeLine{106             LIBDAS\_MODEL\_VERTEX\_BUFFER\_ID,}
\DoxyCodeLine{107             LIBDAS\_MODEL\_VERTEX\_BUFFER\_OFFSET,}
\DoxyCodeLine{108             LIBDAS\_MODEL\_TEXTURE\_ID,}
\DoxyCodeLine{109             LIBDAS\_MODEL\_TEXTURE\_MAP\_BUFFER\_ID,}
\DoxyCodeLine{110             LIBDAS\_MODEL\_TEXTURE\_MAP\_BUFFER\_OFFSET,}
\DoxyCodeLine{111             LIBDAS\_MODEL\_VERTEX\_NORMAL\_BUFFER\_ID,}
\DoxyCodeLine{112             LIBDAS\_MODEL\_VERTEX\_NORMAL\_BUFFER\_OFFSET,}
\DoxyCodeLine{113             LIBDAS\_MODEL\_TRANSFORM}
\DoxyCodeLine{114         \} val\_type;}
\DoxyCodeLine{115     \};}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{comment}{    /*****************************************/}}
\DoxyCodeLine{118 \textcolor{comment}{    /**** Scene and animation structures *****/}}
\DoxyCodeLine{119 \textcolor{comment}{    /*****************************************/}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \textcolor{comment}{}}
\DoxyCodeLine{122 \textcolor{comment}{    /**}}
\DoxyCodeLine{123 \textcolor{comment}{     * DAS subscope structure that defines keyframe animation keyframes}}
\DoxyCodeLine{124 \textcolor{comment}{     */}}
\DoxyCodeLine{125     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasKeyframe}{DasKeyframe}} \{}
\DoxyCodeLine{126         \textcolor{comment}{// NOTE: timestamp value 0 is never used and by default the initial keyframe is considered to be the models position value}}
\DoxyCodeLine{127         uint32\_t timestamp;}
\DoxyCodeLine{128         uint32\_t vertex\_buffer\_id;}
\DoxyCodeLine{129         uint32\_t vertex\_buffer\_offset;}
\DoxyCodeLine{130         uint32\_t texture\_map\_buffer\_id = UINT32\_MAX;}
\DoxyCodeLine{131         uint32\_t texture\_map\_buffer\_offset = 0;}
\DoxyCodeLine{132         uint32\_t vertex\_normal\_buffer\_id = UINT32\_MAX;}
\DoxyCodeLine{133         uint32\_t vertex\_normal\_buffer\_offset = 0;}
\DoxyCodeLine{134 }
\DoxyCodeLine{135 }
\DoxyCodeLine{136         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{137             LIBDAS\_KEYFRAME\_TIMESTAMP,}
\DoxyCodeLine{138             LIBDAS\_KEYFRAME\_VERTEX\_BUFFER\_ID,}
\DoxyCodeLine{139             LIBDAS\_KEYFRAME\_VERTEX\_BUFFER\_OFFSET,}
\DoxyCodeLine{140             LIBDAS\_KEYFRAME\_TEXTURE\_MAP\_VERTICES\_BUFFER\_ID,}
\DoxyCodeLine{141             LIBDAS\_KEYFRAME\_TEXTURE\_MAP\_VERTICES\_BUFFER\_OFFSET,}
\DoxyCodeLine{142             LIBDAS\_KEYFRAME\_VERTEX\_NORMAL\_BUFFER\_ID,}
\DoxyCodeLine{143             LIBDAS\_KEYFRAME\_VERTEX\_NORMAL\_BUFFER\_OFFSET}
\DoxyCodeLine{144         \} val\_type;}
\DoxyCodeLine{145     \};}
\DoxyCodeLine{146 }
\DoxyCodeLine{147 \textcolor{comment}{}}
\DoxyCodeLine{148 \textcolor{comment}{    /**}}
\DoxyCodeLine{149 \textcolor{comment}{     * DAS scope structure that defines animation related information}}
\DoxyCodeLine{150 \textcolor{comment}{     */}}
\DoxyCodeLine{151     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasAnimation}{DasAnimation}} \{}
\DoxyCodeLine{152         std::string name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{153         uint32\_t model;}
\DoxyCodeLine{154         uint32\_t length;}
\DoxyCodeLine{155         std::vector<DasKeyframe> keyframes;}
\DoxyCodeLine{156         InterpolationValue interpolation = LIBDAS\_INTERPOLATION\_VALUE\_LINEAR;}
\DoxyCodeLine{157 }
\DoxyCodeLine{158         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{159             LIBDAS\_ANIMATION\_NAME,}
\DoxyCodeLine{160             LIBDAS\_ANIMATION\_MODEL,}
\DoxyCodeLine{161             LIBDAS\_ANIMATION\_LENGTH,}
\DoxyCodeLine{162             LIBDAS\_ANIMATION\_INTERPOLATION}
\DoxyCodeLine{163         \} val\_type;}
\DoxyCodeLine{164     \};}
\DoxyCodeLine{165 }
\DoxyCodeLine{166 \textcolor{comment}{}}
\DoxyCodeLine{167 \textcolor{comment}{    /**}}
\DoxyCodeLine{168 \textcolor{comment}{     * DAS scope structure that defines each scene node}}
\DoxyCodeLine{169 \textcolor{comment}{     */}}
\DoxyCodeLine{170     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasSceneNode}{DasSceneNode}} \{}
\DoxyCodeLine{171         \mbox{\hyperlink{structLibdas_1_1DasSceneNode}{\string~DasSceneNode}}() \{}
\DoxyCodeLine{172             \textcolor{keywordflow}{if}(children\_count)}
\DoxyCodeLine{173                 \textcolor{keyword}{delete} [] children;}
\DoxyCodeLine{174             \textcolor{keywordflow}{if}(model\_count)}
\DoxyCodeLine{175                 \textcolor{keyword}{delete} [] models;}
\DoxyCodeLine{176             \textcolor{keywordflow}{if}(animation\_count)}
\DoxyCodeLine{177                 \textcolor{keyword}{delete} [] animations;}
\DoxyCodeLine{178         \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180         std::string name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{181         uint32\_t children\_count = 0;}
\DoxyCodeLine{182         uint32\_t *children = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{183         uint32\_t model\_count = 0;}
\DoxyCodeLine{184         uint32\_t *models = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{185         uint32\_t animation\_count = 0;}
\DoxyCodeLine{186         uint32\_t *animations = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{187         \mbox{\hyperlink{structLibdas_1_1Matrix4}{Matrix4<float>}} transform;}
\DoxyCodeLine{188 }
\DoxyCodeLine{189         \textcolor{comment}{// value types}}
\DoxyCodeLine{190         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{191             LIBDAS\_SCENE\_NODE\_NAME,}
\DoxyCodeLine{192             LIBDAS\_SCENE\_NODE\_CHILDREN\_COUNT,}
\DoxyCodeLine{193             LIBDAS\_SCENE\_NODE\_CHILDREN,}
\DoxyCodeLine{194             LIBDAS\_SCENE\_NODE\_MODEL\_COUNT,}
\DoxyCodeLine{195             LIBDAS\_SCENE\_NODE\_MODELS,}
\DoxyCodeLine{196             LIBDAS\_SCENE\_NODE\_ANIMATION\_COUNT,}
\DoxyCodeLine{197             LIBDAS\_SCENE\_NODE\_ANIMATIONS,}
\DoxyCodeLine{198             LIBDAS\_SCENE\_NODE\_TRANSFORM}
\DoxyCodeLine{199         \} val\_types;}
\DoxyCodeLine{200     \};}
\DoxyCodeLine{201 }
\DoxyCodeLine{202 \textcolor{comment}{}}
\DoxyCodeLine{203 \textcolor{comment}{    /**}}
\DoxyCodeLine{204 \textcolor{comment}{     * DAS scope structure that defines the scene hierarchy structure}}
\DoxyCodeLine{205 \textcolor{comment}{     */}}
\DoxyCodeLine{206     \textcolor{keyword}{struct }\mbox{\hyperlink{structLibdas_1_1DasScene}{DasScene}} \{}
\DoxyCodeLine{207         std::string name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{208         std::vector<DasSceneNode> nodes;}
\DoxyCodeLine{209 }
\DoxyCodeLine{210         \textcolor{comment}{// value types}}
\DoxyCodeLine{211         \textcolor{keyword}{enum} ValueType \{}
\DoxyCodeLine{212             LIBDAS\_SCENE\_NAME}
\DoxyCodeLine{213         \} val\_types;}
\DoxyCodeLine{214     \};}
\DoxyCodeLine{215 \}}
\DoxyCodeLine{216 }
\DoxyCodeLine{217 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
