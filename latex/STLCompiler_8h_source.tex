\hypertarget{STLCompiler_8h_source}{}\doxysection{STLCompiler.\+h}
\label{STLCompiler_8h_source}\index{include/STLCompiler.h@{include/STLCompiler.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// libdas: DENG asset handling management library}}
\DoxyCodeLine{2 \textcolor{comment}{// licence: Apache, see LICENCE file}}
\DoxyCodeLine{3 \textcolor{comment}{// file: STLCompiler.h -\/ STL file to DAS compiler class header}}
\DoxyCodeLine{4 \textcolor{comment}{// author: Karl-\/Mihkel Ott}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#ifndef STL\_COMPILER\_H}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#define STL\_COMPILER\_H}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifdef STL\_COMPILER\_CPP}}
\DoxyCodeLine{10 \textcolor{preprocessor}{    \#include <string>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{    \#include <fstream>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{    \#include <cstring>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#ifdef \_DEBUG}}
\DoxyCodeLine{14 \textcolor{preprocessor}{    \#include <iostream>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{16 \textcolor{preprocessor}{    \#include <vector>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{    \#include <unordered\_map>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{    \#include <array>}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{    \#include <Iterators.h>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{    \#include <Points.h>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{    \#include <Vector.h>}}
\DoxyCodeLine{23 \textcolor{preprocessor}{    \#include <Matrix.h>}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{preprocessor}{    \#include <LibdasAssert.h>}}
\DoxyCodeLine{26 \textcolor{preprocessor}{    \#include <ErrorHandlers.h>}}
\DoxyCodeLine{27 \textcolor{preprocessor}{    \#include <DasStructures.h>}}
\DoxyCodeLine{28 \textcolor{preprocessor}{    \#include <DasWriterCore.h>}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{preprocessor}{    \#include <STLStructures.h>}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{preprocessor}{    \#define VERTICES\_ID 0}}
\DoxyCodeLine{33 \textcolor{preprocessor}{    \#define NORMALS\_ID  1}}
\DoxyCodeLine{34 \textcolor{preprocessor}{    \#define INDICES\_ID  2}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceLibdas}{Libdas}} \{}
\DoxyCodeLine{39 \textcolor{comment}{}}
\DoxyCodeLine{40 \textcolor{comment}{    /**}}
\DoxyCodeLine{41 \textcolor{comment}{     * Compiler class that uses STL files as source and outputs DAS file}}
\DoxyCodeLine{42 \textcolor{comment}{     */}}
\DoxyCodeLine{43     \textcolor{keyword}{class }\mbox{\hyperlink{classLibdas_1_1STLCompiler}{STLCompiler}} : \textcolor{keyword}{private} \mbox{\hyperlink{classLibdas_1_1DasWriterCore}{DasWriterCore}} \{}
\DoxyCodeLine{44         \textcolor{keyword}{private}:}
\DoxyCodeLine{45             std::vector<Point4D<float>> m\_unique\_verts;}
\DoxyCodeLine{46             std::vector<Point3D<float>> m\_unique\_normals;}
\DoxyCodeLine{47             std::vector<DasFace> m\_faces;}
\DoxyCodeLine{48             std::vector<uint32\_t> m\_index\_offsets;}
\DoxyCodeLine{49 }
\DoxyCodeLine{50         \textcolor{keyword}{private}:\textcolor{comment}{}}
\DoxyCodeLine{51 \textcolor{comment}{            /**}}
\DoxyCodeLine{52 \textcolor{comment}{             * Create indexed vertices out of given STL objects}}
\DoxyCodeLine{53 \textcolor{comment}{             * @param \_objects specifies a reference to const std::vector instance, containing all STL objects}}
\DoxyCodeLine{54 \textcolor{comment}{             */}}
\DoxyCodeLine{55             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1STLCompiler_a9c0389ec986ff7c64c6ad259e5c9c830}{\_IndexVertices}}(\textcolor{keyword}{const} std::vector<STLObject> \&\_objects);\textcolor{comment}{}}
\DoxyCodeLine{56 \textcolor{comment}{            /**}}
\DoxyCodeLine{57 \textcolor{comment}{             * Create buffers from parsed vertices, normals and faces }}
\DoxyCodeLine{58 \textcolor{comment}{             * @return std::array instance containing all created buffers}}
\DoxyCodeLine{59 \textcolor{comment}{             */}}
\DoxyCodeLine{60             std::array<DasBuffer, 3> \mbox{\hyperlink{classLibdas_1_1STLCompiler_ac01b813efce02a206b70f799474d089c}{\_CreateBuffers}}();\textcolor{comment}{}}
\DoxyCodeLine{61 \textcolor{comment}{            /**}}
\DoxyCodeLine{62 \textcolor{comment}{             * Create DasModel instances from given STLObjects }}
\DoxyCodeLine{63 \textcolor{comment}{             * @param \_objects is a reference to std::vector instance that stores all objects to be converted into models}}
\DoxyCodeLine{64 \textcolor{comment}{             * @return std::vector instance containing all DasModel instance}}
\DoxyCodeLine{65 \textcolor{comment}{             */}}
\DoxyCodeLine{66             std::vector<DasModel> \mbox{\hyperlink{classLibdas_1_1STLCompiler_ae84a6cf0e981a656416145ab0b7d5bb8}{\_CreateModels}}(\textcolor{keyword}{const} std::vector<STLObject> \&\_objects);}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         \textcolor{keyword}{public}:}
\DoxyCodeLine{69             \mbox{\hyperlink{classLibdas_1_1STLCompiler}{STLCompiler}}(\textcolor{keyword}{const} std::string \&\_out\_file = \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{70             \mbox{\hyperlink{classLibdas_1_1STLCompiler}{STLCompiler}}(std::vector<STLObject> \&\_objects, \mbox{\hyperlink{structLibdas_1_1DasProperties}{DasProperties}} \&\_props, std::string \&\_out\_file);}
\DoxyCodeLine{71 \textcolor{comment}{}}
\DoxyCodeLine{72 \textcolor{comment}{            /**}}
\DoxyCodeLine{73 \textcolor{comment}{             * Compile the DAS file from given STLObject objects}}
\DoxyCodeLine{74 \textcolor{comment}{             * @param \_objects is a reference to std::vector object that stores all STL objects that should be written to the output file}}
\DoxyCodeLine{75 \textcolor{comment}{             * @param \_props is a reference to DasProperties that specifies all properties that should be used for the output file}}
\DoxyCodeLine{76 \textcolor{comment}{             * @param \_out\_file is an optional argument that specifies the output file name, if the file name was given in constructor }}
\DoxyCodeLine{77 \textcolor{comment}{             * it can be ignored}}
\DoxyCodeLine{78 \textcolor{comment}{             */}}
\DoxyCodeLine{79             \textcolor{keywordtype}{void} \mbox{\hyperlink{classLibdas_1_1STLCompiler_ac341aa02e576306238eb176f29d31bf8}{Compile}}(\textcolor{keyword}{const} std::vector<STLObject> \&\_objects, \mbox{\hyperlink{structLibdas_1_1DasProperties}{DasProperties}} \&\_props, \textcolor{keyword}{const} std::string \&\_out\_file);}
\DoxyCodeLine{80     \};}
\DoxyCodeLine{81 \}}
\DoxyCodeLine{82 }
\DoxyCodeLine{83 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
