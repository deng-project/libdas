\hypertarget{Iterators_8h_source}{}\doxysection{Iterators.\+h}
\label{Iterators_8h_source}\index{include/Iterators.h@{include/Iterators.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/// libdas: DENG asset handling management library}\textcolor{comment}{}}
\DoxyCodeLine{2 \textcolor{comment}{/// licence: Apache, see LICENCE file}}
\DoxyCodeLine{3 \textcolor{comment}{/// file: Iterators.h -\/ Iterators for point, vector and matrix structures}}
\DoxyCodeLine{4 \textcolor{comment}{/// author: Karl-\/Mihkel Ott}}
\DoxyCodeLine{5 \textcolor{comment}{}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#ifndef ITERATORS\_H}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#define ITERATORS\_H}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceLibdas}{Libdas}} \{}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{    /**}}
\DoxyCodeLine{12 \textcolor{comment}{     * Iterator class for point and vector structures}}
\DoxyCodeLine{13 \textcolor{comment}{     */}}
\DoxyCodeLine{14     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Val\_t>}
\DoxyCodeLine{15     \textcolor{keyword}{class }\mbox{\hyperlink{classLibdas_1_1VectorIterator}{VectorIterator}} \{}
\DoxyCodeLine{16         \textcolor{keyword}{private}:}
\DoxyCodeLine{17             \textcolor{keyword}{using} pointer = Val\_t*;}
\DoxyCodeLine{18             \textcolor{keyword}{using} reference = Val\_t\&;}
\DoxyCodeLine{19 }
\DoxyCodeLine{20             pointer m\_data;}
\DoxyCodeLine{21 }
\DoxyCodeLine{22         \textcolor{keyword}{public}:}
\DoxyCodeLine{23             \mbox{\hyperlink{classLibdas_1_1VectorIterator}{VectorIterator}}(pointer \_data) :}
\DoxyCodeLine{24                 m\_data(\_data) \{\}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26             \textcolor{keywordtype}{void} operator++(\textcolor{keywordtype}{int}) \{}
\DoxyCodeLine{27                 m\_data++;}
\DoxyCodeLine{28             \}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 }
\DoxyCodeLine{31             \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{classLibdas_1_1VectorIterator}{VectorIterator}} \&\_it)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{32                 \textcolor{keywordflow}{return} m\_data != \_it.m\_data;}
\DoxyCodeLine{33             \}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 }
\DoxyCodeLine{36             \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classLibdas_1_1VectorIterator}{VectorIterator}} \&\_it)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{37                 \textcolor{keywordflow}{return} m\_data == \_it.m\_data;}
\DoxyCodeLine{38             \}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 }
\DoxyCodeLine{41             reference operator*() \{}
\DoxyCodeLine{42                 \textcolor{keywordflow}{return} *m\_data;}
\DoxyCodeLine{43             \}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 }
\DoxyCodeLine{46             pointer operator-\/>() \{}
\DoxyCodeLine{47                 \textcolor{keywordflow}{return} m\_data;}
\DoxyCodeLine{48             \}}
\DoxyCodeLine{49     \};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 \textcolor{comment}{}}
\DoxyCodeLine{52 \textcolor{comment}{    /**}}
\DoxyCodeLine{53 \textcolor{comment}{     * Iterator class for matrices}}
\DoxyCodeLine{54 \textcolor{comment}{     */}}
\DoxyCodeLine{55     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Val\_t>}
\DoxyCodeLine{56     \textcolor{keyword}{class }\mbox{\hyperlink{classLibdas_1_1MatrixIterator}{MatrixIterator}} \{}
\DoxyCodeLine{57         \textcolor{keyword}{private}:}
\DoxyCodeLine{58             \textcolor{keyword}{using} pointer = Val\_t*;}
\DoxyCodeLine{59             \textcolor{keyword}{using} reference = Val\_t\&;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61             \textcolor{keywordtype}{size\_t} m\_mat\_size;}
\DoxyCodeLine{62             \textcolor{keywordtype}{bool} m\_is\_row\_major;}
\DoxyCodeLine{63             \textcolor{keywordtype}{size\_t} m\_index = 0;}
\DoxyCodeLine{64             pointer m\_data;}
\DoxyCodeLine{65 }
\DoxyCodeLine{66             \textcolor{keywordtype}{int} i, j;}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         \textcolor{keyword}{public}:}
\DoxyCodeLine{69             \mbox{\hyperlink{classLibdas_1_1MatrixIterator}{MatrixIterator}}(pointer \_data, \textcolor{keywordtype}{size\_t} \_mat\_size, \textcolor{keywordtype}{bool} \_is\_row\_major = \textcolor{keyword}{true}) :}
\DoxyCodeLine{70                 m\_data(\_data), m\_mat\_size(\_mat\_size), m\_is\_row\_major(\_is\_row\_major) \{\}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72             \textcolor{comment}{// a, b, c, d}}
\DoxyCodeLine{73             \textcolor{comment}{// e, f, g, h,}}
\DoxyCodeLine{74             \textcolor{comment}{// i, j, k, l}}
\DoxyCodeLine{75             \textcolor{comment}{// m, n, o, p}}
\DoxyCodeLine{76             \textcolor{comment}{//}}
\DoxyCodeLine{77             \textcolor{comment}{// memory layout:}}
\DoxyCodeLine{78             \textcolor{comment}{//      a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p}}
\DoxyCodeLine{79             }
\DoxyCodeLine{80             \textcolor{keywordtype}{void} operator++(\textcolor{keywordtype}{int}) \{}
\DoxyCodeLine{81                 \textcolor{comment}{// row major matrix order is selected}}
\DoxyCodeLine{82                 \textcolor{keywordflow}{if}(m\_is\_row\_major)}
\DoxyCodeLine{83                     m\_data++;}
\DoxyCodeLine{84                 \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{85                     m\_index += m\_mat\_size;}
\DoxyCodeLine{86                     \textcolor{comment}{// check if the index exceeds maximum row}}
\DoxyCodeLine{87                     \textcolor{keywordflow}{if}(m\_index / m\_mat\_size >= m\_mat\_size) \{}
\DoxyCodeLine{88                         m\_index -\/= m\_mat\_size;}
\DoxyCodeLine{89                         m\_data = m\_data -\/ m\_index + (m\_index \% m\_mat\_size) + 1;}
\DoxyCodeLine{90                         m\_index \%= m\_mat\_size;}
\DoxyCodeLine{91                         m\_index++;}
\DoxyCodeLine{92 }
\DoxyCodeLine{93                         \textcolor{comment}{// out of column bounds}}
\DoxyCodeLine{94                         \textcolor{keywordflow}{if}(m\_index >= m\_mat\_size)}
\DoxyCodeLine{95                             m\_data = m\_data -\/ m\_index + m\_mat\_size * m\_mat\_size;}
\DoxyCodeLine{96                     \}}
\DoxyCodeLine{97                     \textcolor{keywordflow}{else} m\_data += m\_mat\_size;}
\DoxyCodeLine{98                 \}}
\DoxyCodeLine{99             \}}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 }
\DoxyCodeLine{102             \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{classLibdas_1_1MatrixIterator}{MatrixIterator}} \&\_it) \{}
\DoxyCodeLine{103                 \textcolor{keywordflow}{return} m\_data != \_it.m\_data;}
\DoxyCodeLine{104             \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 }
\DoxyCodeLine{107             \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classLibdas_1_1MatrixIterator}{MatrixIterator}} \&\_it) \{}
\DoxyCodeLine{108                 \textcolor{keywordflow}{return} m\_data == \_it.m\_data;}
\DoxyCodeLine{109             \}}
\DoxyCodeLine{110 }
\DoxyCodeLine{111             reference operator*()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{112                 \textcolor{keywordflow}{return} *m\_data;}
\DoxyCodeLine{113             \}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115             pointer operator-\/>() \{}
\DoxyCodeLine{116                 \textcolor{keywordflow}{return} m\_data;}
\DoxyCodeLine{117             \}}
\DoxyCodeLine{118 }
\DoxyCodeLine{119 }
\DoxyCodeLine{120             pointer GetData() \{}
\DoxyCodeLine{121                 \textcolor{keywordflow}{return} m\_data;}
\DoxyCodeLine{122             \}}
\DoxyCodeLine{123     }
\DoxyCodeLine{124     \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{126 }
\DoxyCodeLine{127 \};}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
